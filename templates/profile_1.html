<link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='design.css') }}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<title>–ü—Ä–æ–æ—Ñ–∏–ª—å {{name}}</title>
<style>
  input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none; // Yeah, yeah everybody write about it
}

input[type='number'],
input[type="number"]:hover,
input[type="number"]:focus {
    appearance: none;
    -moz-appearance: textfield;
}
</style>
<body>
  <center>
    <center>
      <a href="/students"><button style="display: inline-block; width: 40px; height: 40px; border-radius: 10px; box-shadow: 0em 0.2em 5px rgba(61, 61, 61, 0.719);" title="–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω"><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="30px" height="30px"><path d="M 23.951172 4 A 1.50015 1.50015 0 0 0 23.072266 4.3222656 L 8.859375 15.519531 C 7.0554772 16.941163 6 19.113506 6 21.410156 L 6 40.5 C 6 41.863594 7.1364058 43 8.5 43 L 18.5 43 C 19.863594 43 21 41.863594 21 40.5 L 21 30.5 C 21 30.204955 21.204955 30 21.5 30 L 26.5 30 C 26.795045 30 27 30.204955 27 30.5 L 27 40.5 C 27 41.863594 28.136406 43 29.5 43 L 39.5 43 C 40.863594 43 42 41.863594 42 40.5 L 42 21.410156 C 42 19.113506 40.944523 16.941163 39.140625 15.519531 L 24.927734 4.3222656 A 1.50015 1.50015 0 0 0 23.951172 4 z M 24 7.4101562 L 37.285156 17.876953 C 38.369258 18.731322 39 20.030807 39 21.410156 L 39 40 L 30 40 L 30 30.5 C 30 28.585045 28.414955 27 26.5 27 L 21.5 27 C 19.585045 27 18 28.585045 18 30.5 L 18 40 L 9 40 L 9 21.410156 C 9 20.030807 9.6307412 18.731322 10.714844 17.876953 L 24 7.4101562 z"/></svg></button></a>
        <div style="background-color: #6448E1; padding: 10px; border-radius: 10px; color:#202020ef; width: fit-content; height: 40px; color: rgb(255, 255, 255); display: inline-block; box-shadow: 0em 0.2em 5px rgba(61, 61, 61, 0.719);" ><h3 style="margin-top: 0px;">{{name}}</h3></div>
        <a href="#openModal"><button style="display: inline-block; width: 40px; height: 40px; border-radius: 10px; box-shadow: 0em 0.2em 5px rgba(61, 61, 61, 0.719);" title="–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="30px" height="30px"><path d="M 43.125 2 C 41.878906 2 40.636719 2.488281 39.6875 3.4375 L 38.875 4.25 L 45.75 11.125 C 45.746094 11.128906 46.5625 10.3125 46.5625 10.3125 C 48.464844 8.410156 48.460938 5.335938 46.5625 3.4375 C 45.609375 2.488281 44.371094 2 43.125 2 Z M 37.34375 6.03125 C 37.117188 6.0625 36.90625 6.175781 36.75 6.34375 L 4.3125 38.8125 C 4.183594 38.929688 4.085938 39.082031 4.03125 39.25 L 2.03125 46.75 C 1.941406 47.09375 2.042969 47.457031 2.292969 47.707031 C 2.542969 47.957031 2.90625 48.058594 3.25 47.96875 L 10.75 45.96875 C 10.917969 45.914063 11.070313 45.816406 11.1875 45.6875 L 43.65625 13.25 C 44.054688 12.863281 44.058594 12.226563 43.671875 11.828125 C 43.285156 11.429688 42.648438 11.425781 42.25 11.8125 L 9.96875 44.09375 L 5.90625 40.03125 L 38.1875 7.75 C 38.488281 7.460938 38.578125 7.011719 38.410156 6.628906 C 38.242188 6.246094 37.855469 6.007813 37.4375 6.03125 C 37.40625 6.03125 37.375 6.03125 37.34375 6.03125 Z"/></svg></button></a>
        <!-- HTML –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
<div id="openModal" class="modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h3>
        <a href="#close" title="Close" class="close">√ó</a>
      </div>
      <div class="modal-body">    
        <ul>
          <style>
            iframe {
              border: none;
            }
          </style>
          <iframe src="/change_profile?id={{id}}" height="700px" width="485px" style="margin-left: -11%;"></iframe>
          <span style="font-size: 70%; color:#4f486b;">
            üõà –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫—Ä–æ–π—Ç–µ —ç—Ç–æ –æ–∫–Ω–æ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
          </span>
		</ul>
      </div>
    </div>
  </div>
</div>
 
<!-- –ö–æ–Ω–µ—Ü –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞  -->

    </center>
    <div>

        {{class1}} –∫–ª–∞—Å—Å, –≥—Ä—É–ø–ø–∞ {{group}} ({{teacher_name}})

      <br> 
      <span style="font-size: 94%;">–£—Ä–æ–≤–µ–Ω—å: {{english_level}}</span>
    <br>
    </div>
  </center> 
  <a href="/newmark?name={{name}}&class={{class1}}" ><button id="button" style="position: absolute; left: 84.6%; top: 184px; width: 40px; height: 45px; border: 0px; font-size: 100%;" >+</button></a>  
  <button style="position: absolute; left: 88%; top: 193px; width: 11.3%; height: 44px; cursor: pointer; font-size: 70%; box-shadow: 0.1em 0.2em 5px rgba(61, 61, 61, 0.356); padding-right: 10px;" onclick = "location.href='#achievements'">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
  <form action="/marks?id={{id}}&name={{name}}&class={{class1}}&max_i={{max_i}}" method = 'post'>
  <div id="div" style="position: absolute; left: 10px; top: 193px; width: 66%; "><center style="margin: 0px; font-size: 110%; ">–û—Ü–µ–Ω–∫–∏</center></div>
  <input type="submit" value="–ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ—Ü–µ–Ω–∫–∏" style="position: absolute; left: 69%; top: 193px; width: 15%; height: 45px; border: 0px; font-size: 100%;">

  {% if status %}
  <script>

      let notification = new Notification("{{status}}", {
        body: "",
      });
      // –∑–∞–∫—Ä—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
      setTimeout(notification.close.bind(notification), 5000);

    // –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –±—Ä–∞—É–∑–µ—Ä–æ–º –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    if (!("Notification" in window)) {
      alert("–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è");
    } else if (Notification.permission !== "granted") {
      // –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –ø–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      Notification.requestPermission().then( function (permission) {
        if (permission === "granted") {
          console.log("–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –ø–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—É—á–µ–Ω–æ");
        }
      });
    }
  </script>  
  {% endif %}

  <table id="text" style="margin-top: 100px;">
    <thead>
      <tr>
        <th><center>–ì–æ–¥/–¢–∏–ø –æ—Ü–µ–Ω–∫–∏</center></th>  
        <th><center>–í—Ö–æ–¥–Ω–æ–π —Ç–µ—Å—Ç (–£—Ä–æ–≤–µ–Ω—å)</center></th>
        <th><center>–í—Ö–æ–¥–Ω–æ–π —Ç–µ—Å—Ç (–ë–∞–ª–ª)</center></th>
        <th><center>–¢—Ä–∏–º–µ—Å—Ç—Ä 1</center></th>
        <th><center>–ó–∏–º–Ω—è—è —Å–µ—Å—Å–∏—è</center></th>
        <th><center>–¢—Ä–∏–º–µ—Å—Ç—Ä 2</center></th>
        <th><center>–¢—Ä–∏–º–µ—Å—Ç—Ä 3</center></th>
        <th><center>–ì–æ–¥–æ–≤–∞—è</center></th>
        <th><center>–õ–µ—Ç–Ω—è—è —Å–µ—Å—Å–∏—è</center></th>
        <th><center>–ü—Ä–æ–±–Ω–∏–∫–∏ –û–ì–≠</center></th>
      </tr>
    </thead>
    <tbody>
    {% for item in data %} 
    <tr>
      
      <td><center><div><input name='year{{item.i}}' id="mark" type="text" value="{{ item.year }}"  style="width:120px" readonly></div></center></td>
      <td><center><div><input name='v_level{{item.i}}' id="mark" type="text" value="{{ item.v_level }}"></div></center></td>
      <td><center><div><input name='v_ball{{item.i}}' id="mark" type="text" value="{{ item.v_ball }}"></div></center></td>
      <td><center><div><input name='t_one{{item.i}}' id="mark" type="number" value="{{ item.t_one }}"></div></center></td>
      <td><center><div><input name='winter{{item.i}}' id="mark" type="text" value="{{ item.winter }}"></div></center></td>
      <td><center><div><input name='t_two{{item.i}}' id="mark" type="number" value="{{ item.t_two }}"></div></center></td>
      <td><center><div><input name='t_three{{item.i}}' id="mark" type="number" value="{{ item.t_three }}"></div></center></td>
      <td><center><div><input name='year_mark{{item.i}}' id="mark" type="number" value="{{ item.year_mark }}"></div></center></td>
      <td><center><div><input name='summer{{item.i}}' id="mark" type="text" value="{{ item.summer }}"></div></center></td>
      <td><center><div><input name='test_oge{{item.i}}' id="mark" type="text" value="{{ item.test_oge }}"></div></center></td> 
      
    </tr>
    {% endfor %}
    </tbody>
  </table>
      </form>

      <span style="margin-left: 40px; font-size: 70%; color:#4f486b">
        üõà –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Ü–µ–Ω—Ç—Ä –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—è
      </span>

      <center><div style="height: 50vh; width: 100%;">
        <canvas id="myChart"></canvas>
      </div></center>
      <script>
        const labels = {{ graph_x | tojson}};
        const data = {
            labels: labels,
            datasets: [
            {% for i in range(years |length -1) %}
            {
                label: '{{years[i]}}',
                backgroundColor: 'white',
                borderColor: '{{colors[i]}}',
                data: {{ graphs_y[i] | tojson}}
            },
            {% endfor %}
            {
                label: '{{years[-1]}}',
                backgroundColor: 'white',
                borderColor: '{{colors[-2]}}',
                data: {{ graphs_y[-1] | tojson}}
            },
            {
                label: '–°—Ä–µ–¥–Ω–µ–µ –ø–æ –≥—Ä—É–ø–ø–µ',
                backgroundColor: 'white',
                borderColor: '{{colors[-1]}}',
                data: {{ middle_of_group | tojson}}
            }
            ]
        };
        const config = {
            type: 'line',
            data: data,
            options: {
              layout: {
                padding: {
                  left: 50
                }
              },
              maintainAspectRatio: false,
              animation: false,
              plugins: {
                  legend: {
                      labels: {
                          color: "black",
                        }
                    }
                },
                scales: {
                    y: {
                        min: 4,
                        max: 10,
                        ticks: {
                            stepSize: 1,
                            color: 'black'
                        },
                        grid: {
                            color: "rgb(97, 97, 97)"
                        }
                    },
                    x: {
                        ticks: {
                            color: 'black'
                        },
                        grid: {
                            color: "rgb(97, 97, 97)"
                        }
                    }
                }
            }
        };
        const myChart = new Chart(
            document.getElementById('myChart'),
            config
        );
      </script>

<center><a name="achievements"><div id="div" style="width: 70%; height: fit-content;">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è: {{olympiads}}</div></a></center>


<footer class="footer">&copy;<span> ENG-Silaeder.</span>  –í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º —Å —Å–∞–π—Ç–æ–º - <a href="/help" style="color:#b3d4ff; text-decoration: none;">–ø–∏—à–∏—Ç–µ</a>.</footer>

</body>